{"ast":null,"code":"import consumer from \"./consumer\";\nvar chatChannel = consumer.subscriptions.create({\n  channel: 'RoomChannel',\n  room: $('#messages').data('room_id')\n}, {\n  connected: function connected() {// Called when the subscription is ready for use on the server\n  },\n  disconnected: function disconnected() {// Called when the subscription has been terminated by the server\n  },\n  received: function received(data) {\n    return $('#messages').append(data['message']); // Called when there's incoming data on the websocket for this channel\n  },\n  speak: function speak(message) {\n    return this.perform('speak', {\n      message: message\n    });\n  }\n});\n$(document).on('keypress', '[data-behavior~=room_speaker]', function (event) {\n  if (event.keyCode === 13) {\n    chatChannel.speak(event.target.value);\n    event.target.value = '';\n    return event.preventDefault();\n  }\n});","map":{"version":3,"sources":["C:/my_work/portfolio/work/pomit/app/javascript/channels/room_channel.js"],"names":["consumer","chatChannel","subscriptions","create","channel","room","$","data","connected","disconnected","received","append","speak","message","perform","document","on","event","keyCode","target","value","preventDefault"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,YAArB;AAEA,IAAMC,WAAW,GAAGD,QAAQ,CAACE,aAAT,CAAuBC,MAAvB,CAA8B;AAAEC,EAAAA,OAAO,EAAE,aAAX;AAA0BC,EAAAA,IAAI,EAAEC,CAAC,CAAC,WAAD,CAAD,CAAeC,IAAf,CAAoB,SAApB;AAAhC,CAA9B,EAAiG;AACnHC,EAAAA,SADmH,uBACvG,CACV;AACD,GAHkH;AAKnHC,EAAAA,YALmH,0BAKpG,CACb;AACD,GAPkH;AASnHC,EAAAA,QATmH,oBAS1GH,IAT0G,EASpG;AACb,WAAOD,CAAC,CAAC,WAAD,CAAD,CAAeK,MAAf,CAAsBJ,IAAI,CAAC,SAAD,CAA1B,CAAP,CADa,CAEb;AACD,GAZkH;AAcnHK,EAAAA,KAAK,EAAE,eAASC,OAAT,EAAkB;AACvB,WAAO,KAAKC,OAAL,CAAa,OAAb,EAAqB;AAC1BD,MAAAA,OAAO,EAACA;AADkB,KAArB,CAAP;AAGD;AAlBkH,CAAjG,CAApB;AAqBAP,CAAC,CAACS,QAAD,CAAD,CAAYC,EAAZ,CAAe,UAAf,EAA2B,+BAA3B,EAA4D,UAASC,KAAT,EAAgB;AAC1E,MAAIA,KAAK,CAACC,OAAN,KAAkB,EAAtB,EAA0B;AACxBjB,IAAAA,WAAW,CAACW,KAAZ,CAAkBK,KAAK,CAACE,MAAN,CAAaC,KAA/B;AACAH,IAAAA,KAAK,CAACE,MAAN,CAAaC,KAAb,GAAqB,EAArB;AACA,WAAOH,KAAK,CAACI,cAAN,EAAP;AACD;AACF,CAND","sourcesContent":["import consumer from \"./consumer\"\n\nconst chatChannel = consumer.subscriptions.create({ channel: 'RoomChannel', room: $('#messages').data('room_id') },  {\n  connected() {\n    // Called when the subscription is ready for use on the server\n  },\n\n  disconnected() {\n    // Called when the subscription has been terminated by the server\n  },\n\n  received(data) {\n    return $('#messages').append(data['message']);\n    // Called when there's incoming data on the websocket for this channel\n  },\n\n  speak: function(message) {\n    return this.perform('speak',{\n      message:message\n    });\n  }\n});\n\n$(document).on('keypress', '[data-behavior~=room_speaker]', function(event) {\n  if (event.keyCode === 13) {\n    chatChannel.speak(event.target.value);\n    event.target.value = '';\n    return event.preventDefault();\n  }\n});\n"]},"metadata":{},"sourceType":"module"}