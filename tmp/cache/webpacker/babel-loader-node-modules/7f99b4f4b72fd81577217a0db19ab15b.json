{"ast":null,"code":"import consumer from \"./consumer\";\nvar chatChannel = consumer.subscriptions.create(\"RoomChannel\", {\n  connected: function connected() {// Called when the subscription is ready for use on the server\n  },\n  disconnected: function disconnected() {// Called when the subscription has been terminated by the server\n  },\n  received: function received(data) {\n    return $('#messages').append(data['message']); // Called when there's incoming data on the websocket for this channel\n  },\n  speak: function speak(message) {\n    return this.perform('speak', {\n      message: message\n    });\n  }\n});\n$(document).on('keypress', '[data-behavior~=room_speaker]', function (event) {\n  if (event.keyCode === 13) {\n    chatChannel.speak(event.target.value);\n    event.target.value = '';\n    return event.preventDefault();\n  }\n});","map":{"version":3,"sources":["C:/my_work/portfolio/work/pomit/app/javascript/channels/room_channel.js"],"names":["consumer","chatChannel","subscriptions","create","connected","disconnected","received","data","$","append","speak","message","perform","document","on","event","keyCode","target","value","preventDefault"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,YAArB;AAEA,IAAMC,WAAW,GAAGD,QAAQ,CAACE,aAAT,CAAuBC,MAAvB,CAA8B,aAA9B,EAA6C;AAC/DC,EAAAA,SAD+D,uBACnD,CACV;AACD,GAH8D;AAK/DC,EAAAA,YAL+D,0BAKhD,CACb;AACD,GAP8D;AAS/DC,EAAAA,QAT+D,oBAStDC,IATsD,EAShD;AACb,WAAOC,CAAC,CAAC,WAAD,CAAD,CAAeC,MAAf,CAAsBF,IAAI,CAAC,SAAD,CAA1B,CAAP,CADa,CAEb;AACD,GAZ8D;AAc/DG,EAAAA,KAAK,EAAE,eAASC,OAAT,EAAkB;AACvB,WAAO,KAAKC,OAAL,CAAa,OAAb,EAAqB;AAC1BD,MAAAA,OAAO,EAACA;AADkB,KAArB,CAAP;AAGD;AAlB8D,CAA7C,CAApB;AAqBAH,CAAC,CAACK,QAAD,CAAD,CAAYC,EAAZ,CAAe,UAAf,EAA2B,+BAA3B,EAA4D,UAASC,KAAT,EAAgB;AAC1E,MAAIA,KAAK,CAACC,OAAN,KAAkB,EAAtB,EAA0B;AACxBf,IAAAA,WAAW,CAACS,KAAZ,CAAkBK,KAAK,CAACE,MAAN,CAAaC,KAA/B;AACAH,IAAAA,KAAK,CAACE,MAAN,CAAaC,KAAb,GAAqB,EAArB;AACA,WAAOH,KAAK,CAACI,cAAN,EAAP;AACD;AACF,CAND","sourcesContent":["import consumer from \"./consumer\"\n\nconst chatChannel = consumer.subscriptions.create(\"RoomChannel\", {\n  connected() {\n    // Called when the subscription is ready for use on the server\n  },\n\n  disconnected() {\n    // Called when the subscription has been terminated by the server\n  },\n\n  received(data) {\n    return $('#messages').append(data['message']);\n    // Called when there's incoming data on the websocket for this channel\n  },\n\n  speak: function(message) {\n    return this.perform('speak',{\n      message:message\n    });\n  }\n});\n\n$(document).on('keypress', '[data-behavior~=room_speaker]', function(event) {\n  if (event.keyCode === 13) {\n    chatChannel.speak(event.target.value);\n    event.target.value = '';\n    return event.preventDefault();\n  }\n});\n"]},"metadata":{},"sourceType":"module"}